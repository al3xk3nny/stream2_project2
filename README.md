# Right Place
## Full Stack Development Milestone Project for the Code Insitute

The ask for this brief was to build a web app that fulfils some actual (or imagined) real-world need. I chose to build a type of matchmaking app for product placement opportunities between marketers and content producers. Imagine, if you will, a situation whereby you are a marketing manager for a car brand. You're watching the latest James Bond movie and wondering why they are using your competitors car and not yours. Why weren't you invited to pitch to include your car brand in the film? Right Place, as in right place, right time, is a common marketplace where marketers can post opportunities they are looking for to content producers and where content producers can post opportunities they have to marketers.

Once I had read the brief I knew I wanted to build an app with a permissions workflow. I also wanted to build on my three previous projects by encorporationg learnings from each. I therefore, firstly considered user experience and modelled layout, form inputs and interaction to be as intuative as possible and secondly considered the principles of a CRUD app, which were key, as this app would live or die on user engagement.

The app is accessable to all users through Sign Up and Log In, however, the app funtionality is only available to those who subscribe. In this way, this Django project is composed on multiple apps.
- An authenitcation mechanism, allowing a user to Sign Up and Log In. This is represented by an "accounts" app.
- An e-commerce mechanism, allowing a user to subscribe to an annual or monthly plan, so that they can interact with the app. This is represented by a "billing" app.
- A posting/messaging mechanism, allowing a user to post opportunities and message opportunity owners. This is represented by an "opportunities" app. This mechanism includes forms with validation allowing users to create, edit and delete content in the backend.

Having used a NoSQL database in my third project, I wanted to make sure I correctly used an SQL database in this project. My goal for this project was to, not only showcase what I had learned to date, but also to demonstate my understanding of the Django framework and the fundamentals of a relational database.

A live version of the app can be viewed [here](https://code-inst-rightplace.herokuapp.com/), hosted on Heroku.


## UX

As mentioned above, this app would live or die on user engagement. The majority of content on this app is generated by the respective users. Without user content, this app is relatively simple. This simplicity benefits the usability of the app and also provides flexibility for an unknown volume of user content. The only page, aside from forms, that does not pull in user content is the index page. This page has a clear header that asks the visitor what group they belong to, marketer or content producer. Below the fold it includes some static graphics and some detail on app functionality.

Once signed up or logged in, the user is presented with a post list of the opposite groups opportunities. There is a brief summary of app functionality at the top of the page and also a link to the users profile. The opportunities include links to submit "interest" (message the opportunity owner) or to subscribe. Which link is active and which is not depends on the users permissions or status, subscribed or not/un-subscribed.

The users profile offers the user access to their details and subscripton status, their posted opportunities, their messages sent by those interesed in their posted opportunities and ability to post opportunities themselves.

The app navigation provides a link back to the post list page through "The Right Place" branding on the left hand side and a link to log out on the right hand side.

The web app is fully responsive and content and layout has been accommodated for mobile, tablet and desktop.

**No template was used in the building of this site.**

Wireframes for this project can be viewed in the "wireframe" folder above. Wireframes were created using [Balsamiq](https://balsamiq.com/).

User requirements/stories were met in the following way;
- As a user, I want to add an opportunity, so that I can receive messages from interested parties.

Once signed up/logged in, and once subscribed, a user can add an opportunity from the profile section. There is a link to add opportunities in the side navigation, or on the "Your Opportunity" page.

- As a user, I want to see if I have received any messages of interest to my posted opportunity.

Once signed up/logged in, and once subscribed, a user can view messages from the profile section. There is a link named "Inbox" in the side navigtion that will display all messages received. A user can view a messages content by clicking on the "View Messages" link. They can also delete a message by clicking on the "Delete" link.

- As a user, I want to submit my interest in a opportunity, so I can message the opportunity owner and connect.

Once signed up/logged in, and once subscribed, a user can submit their interest in an opportunity by clicking on the "Interested" link in the respective opportunity on the "Post List" page. They will then fill out the message form on the resulting page and click submit. The opportunity owner will then receive the message in their inbox and either decide to contact the user or not depending on whether they feel there is a match.

## Technologies used

- HTML
    - This project uses HTML for site structure.
- CSS
    - This project uses CSS for styling.
- [Bootstrap 4](https://getbootstrap.com/)
    - This project uses Bootstrap 4 for additional site structure, styling, but also for interaction and most importantly responsiveness. 
- [Google Fonts](https://fonts.google.com/)
    - This project uses Google Fonts for styling.
- [Font Awesome](https://fontawesome.com/)
    - This project uses Font Awesome for styling.
- [Coolors](https://coolors.co/)
    - This project uses Coolors for styling.
- Python
    - This project used Python as the programming language.
- Django
    - This project uses Django as the Python web framework.
- Postgres
    - This project uses Postgres as the SQL database
- Stripe
    - This project uses Stripe as the payment processing platform.
- Amazon S3
    - This project uses Amazon S3 to cloud platform image hosting service.
- Heroku
    - This project uses Heroku as the cloud platform hosting service.

## Features

**Accounts app**

The accounts app is used for authentication.

### Exisiting features
- Users can sign up, log in and log out.
- Users can view opportunities from the opposite group.
- Users can view their profile and subscription status.
- Users can not submit their interest/send messages to opportunites from opposite group. They need to be subscribed.
- Users can not receive messages from oposite group. They need to be subscribed.
- Users can not add opportunities of their own. They need to be subscribed.

### Features left to implement
- Users can not currently edit or delete their profile. The brief asked for "at least one form with validation that allows users to create and edit". This requirement is fulfilled by the ability to create, read, update and delete opportunities. With more time, the ability to edit or delete profiles would not be a difficult ask, but I have choosen to deem it out-of-scope for the purposes of submission.
- Allow authenticated users and non authenticated users to sign up to a newsletter. This would be a nice feature to have and would be a good promotional tool for the app.

**Billings app**

The billing app is used for e-commerce.

### Exisiting features
- Users can add credit cards.
- Users can subscribe, re-subscribe and unsubscibe to/from annual and monthly plans.
- Users can submit interest/send messages to opportunity owners.
- Users can received messages from interested parties.
- Users can add, edit and delete opportunities of their own.

### Features left to implement
- Users can not currently remove credit cards. The subscription to Stripe is enabled with auto renew. Stripe is also linked with banking institutions so that when a person is issued with a new credit card, Stripe is notified and the users payment detail is automatically updated. For the purposes of project submission I chose not to include credit card management. With more time, I believe this would not be difficult to add in.
- As a commercial product I would need to connect to the users email to notify them of sucessful subscription, to send them an invoice and to confirm re-subscripton.

**Opportunities app**

The opportunties app is used for posting/messaging.

### Exisiting features
- Users who are authenticated can view opportunities from opposite group.
- Users who are authenticated can view their profile and subscription status.
- Users who are authenticated and subscribed can submit interest/send messages to opportunity owners.
- Users who are authenticated and subscribed can received messages from interested parties.
- Users who are authenticated and subscribed can add, edit and delete opportunities of their own.

### Features left to implement
- When an interested party sends a message to an opportunity owner, the message is available in the inbox of the opportunity owner. The ball is then in their court as to whether or not they contact the interested party. At present, this is a one-way conversation. The interested party receives no notification to tell them their message has been received or whether or not they will be contacted. In an upgraded version of this project, I would envisage a two-way messaging mechanism. The proposed messaging mechanism would also provide a management system for an inbox, outbox etc.

## Testing

![Build Status](https://api.travis-ci.com/al3xk3nny/stream2_project2.svg) 

Automated testing was carried out using [Travis.ci](https://travis-ci.com/). 39 tests were written across 3 apps, accounts, billing and opportunities. Coverage is currently 88%.

The main challenge I had in testing was creating an instance of a user to test pages that required permissions. To provide you with a short explaination, a user is created in sign up. The "sign-up view" takes an attribute from the browser - `?type=marketer` or `?type=producer` - depending on which sign up link is clicked on. Therefore, to create an instance of a user, I had to re-create a sign-up process including the "type" or "group" attribute.

The above challenge and also the reciprocal nature of the app - i.e between marketers and producers - also made it difficult to test inter-dependencies, such as writing messages between the two groups.

Having managed to successfully overcome the main challenge, I was unable to resolve challenges related to subscriptions, which rely on creating Stripe ids. Eventually, with more knowledge, I would like to return to testing these elements.

Cross browser and multi-device testing was employed to test site responsiveness using Google Chrome Developer Tools and [BrowserStack](https://www.browserstack.com).

User testing was carried out to ensure;
- All links and buttons worked as desired.
- User created content was handeled correctly (adding, editing, deletion, display of etc.).
- User sign up, log in and log out was handeled correctly.

## Issues

There are two main observed issues that I would like to address and at some stage correct. 

The first relates to sign up. Currently, there is an adequate level of validation for the sign up form that handles required inputs, however, further validation is required for instances where, say, the password entered is too similar to the username. I have researched the logic to correct this, but haven't had a chance to successfully implement it. I have, nonetheless, added labels for the form instructing the user on what is required when creating a password etc.

The second observed issue relates to uploaded images. Right now, the images uploaded to the app have been universally sized using an image editor before they were uploaded. This isn't a big issue, but something I would like to investigate further.

Also, in the week of submission, GitHub issued a moderate severity security alert on this project recommending that I upgrade Django to version 2.0.11 or later (currently 2.0.8). As it is close to submission, I made the decision not to upgrade, having consulted with my TA and performed testing on the site functionality. My concern was that an upgrade may introduce errors at this late stage. I will address this vulnerability after assesment.

## Deployment

This site is hosted on Heroku.

In order to run this site locally;
1. Clone the git repository; In your terminal, type or paste; git clone https://github.com/al3xk3nny/stream2_project2.
2. Install requirements; In your terminal, type or paste; `pip3 install -r requirements.txt`.
3. Set debug to `True`in base.py.
4. Get a secret key and set it as an environment variable
5. Get the DJANGO_SETTINGS_MODULE from rightplace.settings.local and set it as an environment variable.
6. Migrate. In your terminal, type or paste; `python3 manage.py migrate`.
7. Create a superuser. In your terminal, type or paste; `python3 manage.py createsuperuser`.
8. Update "Allowed Hosts" in base.py.
9. The site should now run locally. A bash_aliase of "run" has been created. Type `run`into your terminal to launch the app.

## Credits

### Media

- Images used were sourced from [Pexels](https://www.pexels.com/).
- Icons used were sourced from [Font Awesome](https://fontawesome.com/).
- The colour palette was generated using [Coolors](https://coolors.co/). A reference of the colour palette used can be viewed in the "static/images" folder above.
- Fonts used were sourced from Google Fonts.

### Acknowledgements

I would also like to thank my lecturer, Richard Dalton for his dedicated and competent direction throughout the duration of stream 2 and my TA, Michael Park for his advice and encouragement during this project.